(window.webpackJsonpjianghu=window.webpackJsonpjianghu||[]).push([[54],{2060:function(e,n,t){"use strict";t.r(n);t(101);var i,l,a,o=t(37),s=t(28),r=t(29),p=t(31),d=t(30),c=t(32),u=t(0),f=t.n(u),m=(t(2061),t(87)),h=t(155),g=t(98),b=t(56),v=t(64),w=t(51),x=t(110),E=Object(b.b)(function(e){return{showBigFileUploadAppDownload:e.showBigFileUploadAppDownload,showBigFileDownloadAppDownload:e.showBigFileDownloadAppDownload,userInfo:e.userInfo}},function(e){return Object(v.b)({setShowBigFileUploadAppDownload:w.m},e)})(i=Object(g.h)(i=Object(x.a)((a=l=function(e){function n(){var e,t;Object(s.a)(this,n);for(var i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return(t=Object(p.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(l)))).closeWindow=function(){t.props.changeOpenUpload(!1)},t.useBigFileUpload=function(e){t.props.setShowBigFileUploadAppDownload(!0)},t.isAllSend=function(){var e=!0,n=!0,i=!1,l=void 0;try{for(var a,o=t.props.fileList[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;if(!s.hidden&&!1===s.isBigFile&&(s.status===h.o.waiting||s.status===h.o.uploading||s.status===h.o.paused)){e=!1;break}}}catch(r){i=!0,l=r}finally{try{n||null==o.return||o.return()}finally{if(i)throw l}}t.props.isAllSend(e)},t}return Object(c.a)(n,e),Object(r.a)(n,[{key:"componentDidUpdate",value:function(e,n,t){(e.fileList.length>0||this.props.fileList.length>0)&&this.isAllSend()}},{key:"render",value:function(){var e=this,n=this.props,t=n.fileList,i=n.openUploadList,l=n.fileUploadLoading,a=t.filter(function(e){return e.status===h.o.successUploaded&&!e.hidden}),s=[];return t.map(function(e,n){e.status!==h.o.waiting&&e.status!==h.o.errorUploaded&&e.status!==h.o.paused||!1!==e.isBigFile||e.hidden||s.push(n)}),f.a.createElement("section",{style:{right:i?"0":"-60rem"},id:"upload-file-list-box",onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}},f.a.createElement("div",{id:"open-close",onClick:function(){return e.changeOpen()}},i?"\u6536\u8d77":"\u5c55\u5f00"),f.a.createElement("div",{className:"top"},f.a.createElement("span",null,"\u5168\u90e8\u6587\u4ef6",0===a.length&&f.a.createElement("span",null,"\uff08\u5f85\u4e0a\u4f20\uff09"),a.length>0&&a.length!==t.length&&f.a.createElement("span",{style:{color:"blue"}},"\uff08\u4e0a\u4f20\u4e2d ",a.length,"/",t.filter(function(e){return!e.hidden}).length,"\uff09"),a.length>0&&a.length===t.length&&f.a.createElement("span",{style:{color:"green"}},"\uff08\u4e0a\u4f20\u5b8c\u6210\uff09")),f.a.createElement("div",null,!l&&!t.some(function(e){return e.status===h.o.uploading||e.status===h.o.parsing})&&t.filter(function(e){return e.status===h.o.successUploaded}).length>0&&f.a.createElement("span",{onClick:function(){return e.props.delDoneFile()},className:"delAllDone"},"\u5220\u9664\u5df2\u5b8c\u6210\u8bb0\u5f55"),f.a.createElement(o.a,{onClick:function(){return e.startUploadFiles()},type:"primary",size:"small",disabled:0===t.length||0===s.length,loading:l},"\u5168\u90e8\u5f00\u59cb"))),f.a.createElement("div",{className:"nav_title"},f.a.createElement("div",{className:"file_name"},"\u6587\u4ef6(\u5939)\u540d"),f.a.createElement("div",{className:"file_size"},"\u5927\u5c0f"),f.a.createElement("div",{className:"file_path"},"\u4e0a\u4f20\u76ee\u5f55"),f.a.createElement("div",{className:"file_status"},"\u72b6\u6001"),f.a.createElement("div",{className:"file_operate"},"\u64cd\u4f5c")),f.a.createElement("section",{className:"list"},f.a.createElement("ul",null,t.map(function(n,i){var a=n.fileName;return n.hidden?"":f.a.createElement("li",{key:i},f.a.createElement("div",{style:{width:n.progress+"%"},className:"progress ".concat(n.progress>=50&&"half"," ").concat(100===n.progress&&"success"," ").concat((n.status===h.o.paused||n.status===h.o.errorUploaded)&&"paused")}),f.a.createElement("div",{className:"main"},f.a.createElement("div",{className:"file_name ellipsis",title:n.file.path||n.file.name},f.a.createElement("i",{className:Object(h.c)(a)},f.a.createElement("span",{className:"path1"}),f.a.createElement("span",{className:"path2"}),f.a.createElement("span",{className:"path3"}),f.a.createElement("span",{className:"path4"}),f.a.createElement("span",{className:"path5"}),f.a.createElement("span",{className:"path6"}),f.a.createElement("span",{className:"path7"}),f.a.createElement("span",{className:"path8"})),f.a.createElement("span",{className:"ellipsis"},a)),f.a.createElement("div",{className:"file_size"},Object(m.l)(n.file.size)),f.a.createElement("div",{className:"file_path ellipsis"},f.a.createElement("a",{title:"\u6211\u7684\u6587\u4ef6",className:"server_path",href:"javascript:;",onClick:function(){return e.props.history.push("/user/home/files?path=".concat(n.currentPath))}},n.currentPathName||"---")),f.a.createElement("div",{className:"file_status ellipsis"},n.isBigFile?f.a.createElement("div",{className:"bigFileUpload",onClick:function(t){return e.useBigFileUpload(n)}},"\u8bf7\u4f7f\u7528\u5927\u6587\u4ef6\u4e0a\u4f20\u5668"):f.a.createElement("div",null,n.status===h.o.waiting&&f.a.createElement("span",{className:"waiting"},"\u6392\u961f\u4e2d\u2026"),n.status===h.o.parsing&&f.a.createElement("span",{className:"waiting"},"\u89e3\u6790\u4e2d\u2026"),n.status===h.o.paused&&f.a.createElement("span",{className:"paused"},"\u6682\u505c\u4e2d\u2026"),n.status===h.o.uploading&&f.a.createElement("span",{className:"uploading"}," ",n.progress,"% ",f.a.createElement("span",{className:"speed"},"(",n.speed<=0?"--":Object(m.l)(n.speed),"/s)")),n.status===h.o.errorUploaded&&f.a.createElement("span",{className:"errorUploaded"},"\u4f20\u8f93\u5931\u8d25"),n.status===h.o.size0&&f.a.createElement("span",{className:"errorUploaded"},"\u6587\u4ef6\u5927\u5c0f\u4e0d\u5f97\u4e3a0"),n.status===h.o.successUploaded&&f.a.createElement("span",{className:"successUploaded"},"\u5df2\u5b8c\u6210"))),f.a.createElement("div",{className:"file_operate"},n.status===h.o.waiting&&!1===n.isBigFile?f.a.createElement("span",{className:"begin",onClick:function(){return e.props.uploadFileItem(i)}},"\u5f00\u59cb"):n.status===h.o.uploading?f.a.createElement("span",{title:"\u6682\u505c",className:"weblink-14",onClick:Object(m.n)(function(){e.props.pausedUpload(i)},10)}):(n.status===h.o.paused||n.status===h.o.errorUploaded)&&f.a.createElement("span",{title:"\u7ee7\u7eed",className:"weblink-uniE95D",onClick:Object(m.n)(function(){e.props.continueUpload(i)},10)}),l||t.some(function(e){return e.status===h.o.uploading})||n.status===h.o.uploading||n.status===h.o.parsing?f.a.createElement("span",null):f.a.createElement("span",{onClick:function(){return e.props.delFileItem(i)},className:"delete"},"\u5220\u9664"))))})),0===t.length?f.a.createElement("div",{className:"no-file"},"\u5c1a\u672a\u9009\u62e9\u6587\u4ef6"):f.a.createElement("div",{className:"bottom"},"\u5df2\u7ecf\u662f\u6211\u7684\u5e95\u7ebf\u4e86")))}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.closeWindow)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.closeWindow)}},{key:"startUploadFiles",value:function(){this.props.startUploadFiles()}},{key:"changeOpen",value:function(){this.props.changeOpenUpload(!this.props.openUploadList)}},{key:"pausedUpload",value:function(e){this.props.pausedUpload(e)}},{key:"continueUpload",value:function(e){this.props.continueUpload(e)}}]),n}(u.Component),l.defaultProps={fileList:[],openUploadList:!1},i=a))||i)||i)||i;n.default=E},2061:function(e,n,t){var i=t(2062);"string"===typeof i&&(i=[[e.i,i,""]]);var l={insert:"head",singleton:!1};t(86)(i,l);i.locals&&(e.exports=i.locals)},2062:function(e,n,t){(e.exports=t(85)(!1)).push([e.i,"#upload-file-list-box {\n  position: fixed;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 60rem;\n  height: 60%;\n  background-color: #fff;\n  transition: all 0.66s cubic-bezier(0.66, 0, 0.01, 1);\n  z-index: 1001;\n  border-top-left-radius: 1rem;\n  border-bottom-left-radius: 1rem;\n  border: 0.1rem solid #e2e2e2;\n  box-shadow: 0 0 1rem #ccc;\n}\n#upload-file-list-box >.top {\n  width: 100%;\n  height: 4.4rem;\n  padding: 1rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: #666;\n}\n#upload-file-list-box >.top .delAllDone {\n  color: #ff5542;\n  cursor: pointer;\n  margin-right: 1rem;\n}\n#upload-file-list-box >.nav_title {\n  width: 100%;\n  height: 3.5rem;\n  border-bottom: 0.1rem solid #f2f6fd;\n  line-height: 3.5rem;\n  color: #424e67;\n  overflow: hidden;\n}\n#upload-file-list-box >.nav_title >div {\n  height: 100%;\n}\n#upload-file-list-box >.nav_title >.file_name {\n  float: left;\n  width: 40%;\n  text-indent: 1.4rem;\n}\n#upload-file-list-box >.nav_title >.file_size {\n  float: left;\n  width: 13%;\n  text-indent: 1rem;\n}\n#upload-file-list-box >.nav_title >.file_path {\n  float: left;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 13%;\n}\n#upload-file-list-box >.nav_title >.file_status {\n  position: relative;\n  float: left;\n  width: 21%;\n}\n#upload-file-list-box >.nav_title >.file_operate {\n  float: left;\n  width: 13%;\n}\n#upload-file-list-box >.list {\n  position: absolute;\n  top: 7.9rem;\n  left: 0;\n  width: 100%;\n  height: calc(100% - 4.4rem - 3.5rem);\n  overflow: auto;\n  font-size: 1.2rem;\n}\n#upload-file-list-box >.list >.no-file {\n  height: 90%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #9e9e9e;\n}\n#upload-file-list-box >.list >.bottom {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #9e9e9e;\n  margin-bottom: 1rem;\n}\n#upload-file-list-box >.list >ul {\n  width: 100%;\n}\n#upload-file-list-box >.list >ul >li {\n  width: 100%;\n  position: relative;\n  height: 4.9rem;\n  border-bottom: 0.1rem solid #f2f6fd;\n  line-height: 4.9rem;\n  overflow: hidden;\n}\n#upload-file-list-box >.list >ul >li >div {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 0;\n  height: 100%;\n  line-height: 4.9rem;\n  transition: all 0.3s;\n}\n#upload-file-list-box >.list >ul >li >div.progress {\n  z-index: 1;\n  background-color: #e8e8e8;\n}\n#upload-file-list-box >.list >ul >li >div.progress::before {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: #fff;\n  border-radius: 10px;\n  opacity: 0;\n  -webkit-animation: ant-progress-active 2s cubic-bezier(0.23, 1, 0.32, 1) infinite;\n  animation: ant-progress-active 2s cubic-bezier(0.23, 1, 0.32, 1) infinite;\n  content: '';\n}\n#upload-file-list-box >.list >ul >li >div.progress.half {\n  background-color: #e2f1ff;\n}\n#upload-file-list-box >.list >ul >li >div.progress.success {\n  background-color: #e1ffea;\n}\n#upload-file-list-box >.list >ul >li >div.progress.success::before {\n  animation: none;\n  -webkit-animation: none;\n}\n#upload-file-list-box >.list >ul >li >div.progress.paused {\n  background-color: #ffcbce;\n}\n#upload-file-list-box >.list >ul >li >div.progress.paused::before {\n  animation: none;\n  -webkit-animation: none;\n}\n#upload-file-list-box >.list >ul >li >div.main {\n  width: 100%;\n  z-index: 2;\n}\n#upload-file-list-box >.list >ul >li >div.main >div {\n  height: 100%;\n}\n#upload-file-list-box >.list >ul >li >div.main >.file_name {\n  position: relative;\n  float: left;\n  width: 40%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n}\n#upload-file-list-box >.list >ul >li >div.main >.file_name >i {\n  width: 2.4rem;\n  height: 2.4rem;\n  margin-right: 1rem;\n  font-size: 1.7rem;\n  margin-left: 1rem;\n  margin-top: 0.5rem;\n}\n#upload-file-list-box >.list >ul >li >div.main >.file_size {\n  float: left;\n  width: 13%;\n  text-indent: 1rem;\n}\n#upload-file-list-box >.list >ul >li >div.main >.file_path {\n  float: left;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 13%;\n}\n#upload-file-list-box >.list >ul >li >div.main >.file_path a {\n  color: #5d9cff;\n}\n#upload-file-list-box >.list >ul >li >div.main >.file_status {\n  position: relative;\n  float: left;\n  width: 21%;\n}\n#upload-file-list-box >.list >ul >li >div.main >.file_status .bigFileUpload {\n  cursor: pointer;\n  transition: all 0.3s;\n  color: #faad14;\n}\n#upload-file-list-box >.list >ul >li >div.main >.file_status .bigFileUpload:hover {\n  opacity: 0.8;\n}\n#upload-file-list-box >.list >ul >li >div.main >.file_status .uploading {\n  color: #13c2c2;\n}\n#upload-file-list-box >.list >ul >li >div.main >.file_status .uploading >.speed {\n  font-size: 1.2rem;\n  color: #8d8d8d;\n}\n#upload-file-list-box >.list >ul >li >div.main >.file_status .errorUploaded {\n  color: #ff5542;\n}\n#upload-file-list-box >.list >ul >li >div.main >.file_status .successUploaded {\n  color: #0e963d;\n}\n#upload-file-list-box >.list >ul >li >div.main >.file_operate {\n  float: left;\n  width: 13%;\n  text-indent: 0.3rem;\n}\n#upload-file-list-box >.list >ul >li >div.main >.file_operate >span {\n  cursor: pointer;\n  margin-right: 0.7rem;\n}\n#upload-file-list-box >.list >ul >li >div.main >.file_operate >span.begin {\n  color: #3b8cff;\n}\n#upload-file-list-box >.list >ul >li >div.main >.file_operate >span.delete {\n  color: #ff5542;\n}\n#upload-file-list-box #open-close {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  left: -4rem;\n  width: 4rem;\n  height: 8rem;\n  cursor: pointer;\n  border-top-left-radius: 1rem;\n  border-bottom-left-radius: 1rem;\n  border: 0.1rem solid #e2e2e2;\n  background-color: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 12px;\n  text-align: center;\n  font-weight: bold;\n  padding: 1.5rem;\n}\n@-moz-keyframes weblink-progress-active {\n  0% {\n    width: 0;\n    opacity: 0.1;\n  }\n  20% {\n    width: 0;\n    opacity: 0.5;\n  }\n  100% {\n    width: 100%;\n    opacity: 0;\n  }\n}\n@-webkit-keyframes weblink-progress-active {\n  0% {\n    width: 0;\n    opacity: 0.1;\n  }\n  20% {\n    width: 0;\n    opacity: 0.5;\n  }\n  100% {\n    width: 100%;\n    opacity: 0;\n  }\n}\n@-o-keyframes weblink-progress-active {\n  0% {\n    width: 0;\n    opacity: 0.1;\n  }\n  20% {\n    width: 0;\n    opacity: 0.5;\n  }\n  100% {\n    width: 100%;\n    opacity: 0;\n  }\n}\n@keyframes weblink-progress-active {\n  0% {\n    width: 0;\n    opacity: 0.1;\n  }\n  20% {\n    width: 0;\n    opacity: 0.5;\n  }\n  100% {\n    width: 100%;\n    opacity: 0;\n  }\n}\n",""])}}]);